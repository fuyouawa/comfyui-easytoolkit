# ComfyUI EasyToolkit

一个全面的 ComfyUI 扩展包，提供算法计算、Base64 编码/解码、图像处理、序列化和工作流工具节点，以简化 ComfyUI 工作流程。

## 功能特性

### 🧮 算法节点
- **帧计算器** - 基于持续时间、帧率和额外帧数计算总帧数
- **字节比较器** - 比较两个字节数组是否相等
- **字节合并器** - 将多个字节数组合并为一个
- **字节选择器** - 从字节数组中选择特定字节范围
- **Zlib 压缩器/解压器** - 使用 zlib 压缩和解压数据

### 🖼️ 图像处理
- **图像加密器** - 对图像应用加密操作（反色、XOR 操作）
- **图像批量加密器** - 对多张图像进行加密操作
- **图像批量选择器** - 选择和处理多张图像
- **图像安全预览器** - 带安全检查的图像预览

### 🔐 编码与隐写术
- **字节编码器/解码器** - 在不同数据格式之间转换
- **隐写术编码器/解码器** - 使用隐写术在图像中隐藏和提取数据
- **Base64 URL 格式化器/解析器** - 格式化和解析 Base64 数据 URL

### 📦 序列化
- **图像序列化器/反序列化器** - 在 ComfyUI 图像张量和字节数据之间转换
- **图像批量序列化器/反序列化器** - 处理多张图像
- **视频序列化器/反序列化器** - 处理视频数据序列化
- **资源头构造器/解析器/序列化器/反序列化器** - 管理资源元数据

### 🎬 视频处理
- **视频信息解析器** - 从视频文件中提取元数据

### 🔧 格式化工具
- **Base64 URL 格式化器/解析器** - 处理数据 URL 格式化
- **文件扩展名转格式类型** - 将文件扩展名转换为 MIME 类型
- **格式类型转文件扩展名** - 将 MIME 类型转换为文件扩展名

### 🪲 调试与工具
- **Toast 通知框** - 在工作流执行期间显示 Toast 通知
- **对话框** - 显示对话框通知

### 📊 常量
- **资源头大小** - 提供标准资源头大小常量

## 安装

1. 将此仓库克隆到您的 ComfyUI `custom_nodes` 目录：
   ```bash
   cd ComfyUI/custom_nodes
   git clone https://github.com/your-username/comfyui-easytoolkit.git
   ```

2. 重启 ComfyUI

3. 节点将出现在节点菜单中的 "EasyToolkit" 类别下

## 使用示例

### 基础图像处理
```
加载图像 → 图像加密器（反色）→ 预览
```

### 隐写术工作流
```
字节数据 → 隐写术编码器 → 图像序列化器 → 保存图像
加载图像 → 图像反序列化器 → 隐写术解码器 → 字节数据
```

### 视频帧计算
```
视频信息解析器 → 帧计算器 → 用于动画制作
```

### Base64 数据处理
```
图像序列化器 → Base64 URL 格式化器 → 用于 Web 应用程序
```

## 节点类别

所有节点在 ComfyUI 中按以下类别组织：
- **EasyToolkit/Algorithm** - 数学和数据处理节点
- **EasyToolkit/Image** - 图像处理和操作
- **EasyToolkit/Video** - 视频元数据和处理
- **EasyToolkit/Encoding** - 数据编码和隐写术
- **EasyToolkit/Serialization** - 数据序列化和反序列化
- **EasyToolkit/Formatting** - 数据格式化和转换
- **EasyToolkit/Debug** - 调试和通知工具
- **EasyToolkit/Constants** - 标准常量和值

### 文件结构
```
comfyui-easytoolkit/
├── nodes/
│   ├── algorithm/     # 数学和数据处理
│   ├── image/         # 图像操作
│   ├── video/         # 视频处理
│   ├── encoding/      # 数据编码
│   ├── serialization/ # 数据序列化
│   ├── formatting/    # 数据格式化
│   ├── debug/         # 调试工具
│   └── constants/     # 标准常量
├── utils/             # 工具函数
├── web/               # 前端扩展
└── __init__.py        # 节点注册
```

## 许可证

本项目采用 MIT 许可证 - 有关详细信息，请参阅 LICENSE 文件。

## 支持

如有问题和功能请求，请在 GitHub 仓库中创建 issue。

---

**ComfyUI EasyToolkit** - 使用强大的工具节点简化您的 ComfyUI 工作流程！