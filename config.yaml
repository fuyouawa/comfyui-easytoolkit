# comfyui-easytoolkit Configuration
# ================================
#
# This configuration file defines settings for the EasyToolkit ComfyUI extension.
# Configuration is loaded hierarchically:
# 1. Default values (hardcoded in utils/config.py)
# 2. config.yaml (this file)
# 3. config.override.yaml (user-specific overrides, takes precedence)
#
# Persistent Context Cache Settings
# --------------------------------
# The persistent context system provides disk-based caching for data persistence
# across ComfyUI sessions. Contexts are stored as individual files in the
# specified cache directory.
persistent_context:
  # Lazy initialization - improves startup performance
  # When true: Cache loads only on first API call, avoiding startup overhead
  # When false: Cache loads immediately when module is imported
  lazy_initialization: true

  # Auto-save feature (experimental)
  # When true: Context changes are automatically saved to disk
  # When false: Manual save operations are required
  # Note: This feature is experimental and may impact performance
  auto_save: false

  # Cache storage directory
  # Options: 'input', 'output', or 'temp'
  # Contexts are stored in: <directory>/comfyui-easytoolkit/persistent_context/
  # - 'input': ComfyUI input directory
  # - 'output': ComfyUI output directory
  # - 'temp': ComfyUI temporary directory
  cache_directory: 'input'

  # Cache size management
  # Maximum total cache size in megabytes
  # When this limit is exceeded, cleanup process removes old data
  max_cache_size_mb: 100

  # Old data threshold in hours
  # Data not accessed for this duration is considered "old"
  # Only old data is removed during cleanup when cache size exceeds limits
  old_data_threshold_hours: 24

  # Absolute maximum cache size in megabytes
  # Emergency cleanup threshold - when exceeded, cleanup is forced
  # even if no data meets the old_data_threshold
  # Set to 0 to disable forced cleanup (not recommended)
  absolute_max_cache_size_mb: 200

  # Maximum individual context size in megabytes
  # Prevents saving excessively large contexts to disk
  # Contexts larger than this limit will be rejected
  # Set to 0 to disable size limit (not recommended for production)
  max_context_size_mb: 50

  # Maximum key length for context identifiers
  # Prevents excessively long keys that could impact performance
  # Keys longer than this limit will be rejected
  # Set to 0 to disable key length limit (not recommended)
  max_key_length: 256

# Base64 Uploader Settings
# -------------------------
# Configuration for the Base64 uploader functionality
# These settings control file upload limits and behavior
base64_uploader:
  # Maximum upload file size in megabytes
  # Files larger than this limit will be rejected
  # Set to 0 to disable file size limit (not recommended)
  # Note: This applies to individual file uploads via Base64 encoding
  max_upload_file_size_mb: 100

